<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.baizhi.xzy.dao.UserDao">
	<!-- 登陆 -->
	<select id="findByE" resultType="User">
		select id,email,username,password,status,CDK,regdate,salt 
		from q_users
		where email=#{email}
	</select>
	<!-- 注册 -->
	<insert id="regist">
		insert into q_users values(#{id},#{email},#{username},#{password},#{status,jdbcType=VARCHAR},#{CDK,jdbcType=VARCHAR},#{regdate},#{salt} )
	</insert>
	<!-- 修改CDK -->
	<update id="updateCDK" parameterType="User">
		update q_users set CDK=#{code} where id=#{id}
	</update>
	<!-- 后台：查询所有用户 -->
	<select id="selectAllU" resultType="User">
		select id,email,username,password,status,CDK,regdate,salt from q_users
	</select>
	<!-- 修改状态 -->
	<update id="updateS" parameterType="User">
		update q_users set status=#{status} where id=#{id}
	</update>
	<!-- 根据id查找用户 -->
	<select id="selectById" resultType="User">
		select id,email,username,password,status,CDK,regdate,salt from q_users where id=#{id}
	</select>
</mapper>
